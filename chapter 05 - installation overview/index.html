
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../chapter%2004%20-%20installation%20of%20debian%20FDE/">
      
      
        <link rel="next" href="../chapter%2006%20-%20beelink%20way%20-%20nginx%20ingress/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.8">
    
    
      
        <title>Installation overview - obsidian-mkdocs template</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installation-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="obsidian-mkdocs template" class="md-header__button md-logo" aria-label="obsidian-mkdocs template" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            obsidian-mkdocs template
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installation overview
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="obsidian-mkdocs template" class="md-nav__button md-logo" aria-label="obsidian-mkdocs template" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    obsidian-mkdocs template
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chapter%2001%20-%20introduction/" class="md-nav__link">
        Index
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chapter%2002%20-%20gitops%20%26%20argocd%20concepts/" class="md-nav__link">
        Gitops & Argocd Concepts
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chapter%2003%20-%20github%20repository/" class="md-nav__link">
        Github Repository
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chapter%2004%20-%20installation%20of%20debian%20FDE/" class="md-nav__link">
        Installation of Debian FDE
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Installation overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Installation overview
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#-platform" class="md-nav__link">
    --platform
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-storage" class="md-nav__link">
    --storage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-shared_media" class="md-nav__link">
    --shared_media*
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-ssh_" class="md-nav__link">
    --ssh_*
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-external_ip" class="md-nav__link">
    --external_ip
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-other" class="md-nav__link">
    --other
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-ingress" class="md-nav__link">
    --ingress
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chapter%2006%20-%20beelink%20way%20-%20nginx%20ingress/" class="md-nav__link">
        Installation on beelink sei-12 - nginx ingress
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chapter%2007%20-%20beelink%20way%20-%20cloudflare%20tunnels/" class="md-nav__link">
        Installation on beelink sei-12 - nginx ingress
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          Excalidraw
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Excalidraw
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Excalidraw/baremetal/" class="md-nav__link">
        Baremetal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Excalidraw/beelink/" class="md-nav__link">
        Beelink
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Excalidraw/gitops/" class="md-nav__link">
        Gitops
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Excalidraw/minikube/" class="md-nav__link">
        Minikube
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Excalidraw/three-choices/" class="md-nav__link">
        Three choices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Excalidraw/upstream_clone/" class="md-nav__link">
        Upstream clone
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#-platform" class="md-nav__link">
    --platform
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-storage" class="md-nav__link">
    --storage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-shared_media" class="md-nav__link">
    --shared_media*
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-ssh_" class="md-nav__link">
    --ssh_*
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-external_ip" class="md-nav__link">
    --external_ip
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-other" class="md-nav__link">
    --other
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-ingress" class="md-nav__link">
    --ingress
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="installation-overview">Installation overview<a class="headerlink" href="#installation-overview" title="Permanent link">&para;</a></h1>
<p>when running ./setup install there are quite a few flags to chose from</p>
<div class="highlight"><pre><span></span><code>./setup<span class="w"> </span>install<span class="w"> </span>-h
Flags:
--authelia<span class="w"> </span>string<span class="w">                               </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>authelia<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--bridge<span class="w"> </span>string<span class="w">                                 </span>name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>bridge<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;vmbr0&quot;</span><span class="o">)</span>
--cluster-issuer<span class="w"> </span>string<span class="w">                         </span>when<span class="w"> </span>using<span class="w"> </span>nginx<span class="w"> </span>ingress,<span class="w"> </span><span class="k">select</span><span class="w"> </span>cluster<span class="w"> </span>issuer<span class="w"> </span><span class="o">(</span><span class="w"> </span>staging<span class="w"> </span>/<span class="w"> </span>prod<span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;staging&quot;</span><span class="o">)</span>
--cores_k3s<span class="w"> </span>string<span class="w">                              </span>the<span class="w"> </span>amount<span class="w"> </span>of<span class="w"> </span>virtual<span class="w"> </span>cores<span class="w"> </span>to<span class="w"> </span>pass<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>k3s<span class="w"> </span>vm<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;10&quot;</span><span class="o">)</span>
--disaster_recovery<span class="w"> </span>string<span class="w">                      </span>disaster<span class="w"> </span>recovery<span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;k10&quot;</span><span class="o">)</span>
--disksize<span class="w"> </span>string<span class="w">                               </span>disk<span class="w"> </span>size<span class="w"> </span>+<span class="w"> </span>metric<span class="w"> </span><span class="o">(</span><span class="w"> </span>example:<span class="w"> </span>100G<span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;100G&quot;</span><span class="o">)</span>
--domain<span class="w"> </span>string<span class="w">                                 </span>the<span class="w"> </span>domain<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>use
--email<span class="w"> </span>string<span class="w">                                  </span>the<span class="w"> </span>folder<span class="w"> </span>into<span class="w"> </span>which<span class="w"> </span>new_repo<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>cloned<span class="w"> </span>into
--external_ip<span class="w"> </span>string<span class="w">                            </span>your<span class="w"> </span>external<span class="w"> </span>ipv4<span class="w"> </span><span class="o">(</span><span class="w"> </span>curl<span class="w"> </span>-4<span class="w"> </span>ifconfig.co<span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;1.2.3.4&quot;</span><span class="o">)</span>
--externaldns<span class="w"> </span>string<span class="w">                            </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>external-dns<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--ha<span class="w"> </span>string<span class="w">                                     </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>home-assistant<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
-h,<span class="w"> </span>--help<span class="w">                                          </span><span class="nb">help</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>install
--ingress<span class="w"> </span>string<span class="w">                                </span>which<span class="w"> </span>ingress<span class="w"> </span>to<span class="w"> </span>use<span class="w"> </span><span class="o">(</span><span class="w"> </span>nginx/cloudflaretunnel<span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;cloudflaretunnel&quot;</span><span class="o">)</span>
--interface<span class="w"> </span>string<span class="w">                              </span>name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>primary<span class="w"> </span>interface<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;enp3s0&quot;</span><span class="o">)</span>
--jellyfin<span class="w"> </span>string<span class="w">                               </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>jellyfin<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--jellyseerr<span class="w"> </span>string<span class="w">                             </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>jellyseerr<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--kasten-k10<span class="w"> </span>string<span class="w">                             </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>kasten-k10<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--kubernetes_version<span class="w"> </span>string<span class="w">                     </span>kubernetes<span class="w"> </span>version<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;v1.25.6+k3s1&quot;</span><span class="o">)</span>
--local_path<span class="w"> </span>string<span class="w">                             </span>the<span class="w"> </span>folder<span class="w"> </span>into<span class="w"> </span>which<span class="w"> </span>new_repo<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>cloned<span class="w"> </span>into
--loki<span class="w"> </span>string<span class="w">                                   </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>loki<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--macaddr<span class="w"> </span>string<span class="w">                                </span>mac<span class="w"> </span>address<span class="w"> </span>used<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>k3s<span class="w"> </span>vm<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;6E:1F:26:B6:DF:20&quot;</span><span class="o">)</span>
--memory_k3s<span class="w"> </span>string<span class="w">                             </span>amount<span class="w"> </span>of<span class="w"> </span>ram<span class="w"> </span><span class="k">in</span><span class="w"> </span>MB<span class="w"> </span>to<span class="w"> </span>assign<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>VM<span class="w">  </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;28672&quot;</span><span class="o">)</span>
--new_repo<span class="w"> </span>string<span class="w">                               </span>the<span class="w"> </span>name<span class="w"> </span>of<span class="w"> </span>your<span class="w"> </span>new<span class="w"> </span>repo
--nextcloud<span class="w"> </span>string<span class="w">                              </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>nextcloud<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--nginxingress<span class="w"> </span>string<span class="w">                           </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>nginx-ingress<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--nzbget<span class="w"> </span>string<span class="w">                                 </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>nzbget<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--partition_external_shared_media_disk<span class="w"> </span>string<span class="w">   </span>will<span class="w"> </span>partition<span class="w"> </span>--shared-media-disk-device<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--pci_device<span class="w"> </span>string<span class="w">                             </span>the<span class="w"> </span>pci<span class="w"> </span>address<span class="w"> </span>of<span class="w"> </span>your<span class="w"> </span>gpu<span class="w"> </span><span class="o">(</span><span class="w"> </span>lspci<span class="w"> </span><span class="p">|</span>grep<span class="w"> </span>VGA<span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;0000:02:00.0&quot;</span><span class="o">)</span>
--pci_passthrough<span class="w"> </span>string<span class="w">                        </span>prepare<span class="w"> </span>pci<span class="w"> </span>passthrough<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;intel&quot;</span><span class="o">)</span>
--platform<span class="w"> </span>string<span class="w">                               </span>server<span class="w"> </span>type:<span class="w"> </span>proxmox,<span class="w"> </span>minikube,<span class="w"> </span>baremetal<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;proxmox&quot;</span><span class="o">)</span>
--prowlarr<span class="w"> </span>string<span class="w">                               </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>prowlarr<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--proxmox_node_name<span class="w"> </span>string<span class="w">                      </span>the<span class="w"> </span>name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>proxmox<span class="w"> </span>node<span class="w"> </span><span class="o">(</span><span class="w"> </span>hostname<span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;beelink-sei12&quot;</span><span class="o">)</span>
--proxmox_vm_name<span class="w"> </span>string<span class="w">                        </span>name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>virtual<span class="w"> </span>machine<span class="w"> </span><span class="k">in</span><span class="w"> </span>proxmox<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;k3s-beelink-01&quot;</span><span class="o">)</span>
--radarr<span class="w"> </span>string<span class="w">                                 </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>radarr<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--root_password<span class="w"> </span>string<span class="w">                          </span>root<span class="w"> </span>password<span class="w"> </span><span class="o">(</span><span class="w"> </span>used<span class="w"> </span><span class="k">for</span><span class="w"> </span>login<span class="w"> </span>to<span class="w"> </span>proxmox<span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;topsecure&quot;</span><span class="o">)</span>
--rtorrentflood<span class="w"> </span>string<span class="w">                          </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>rtorrent-flood<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--shared_media_disk_device<span class="w"> </span>string<span class="w">               </span>give<span class="w"> </span>the<span class="w"> </span>device<span class="w"> </span>name<span class="w"> </span>of<span class="w"> </span>your<span class="w"> </span>external<span class="w"> </span>shared<span class="w"> </span>media<span class="w"> </span>disk<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;sda&quot;</span><span class="o">)</span>
--shared_media_disk_size<span class="w"> </span>string<span class="w">                 </span>define<span class="w"> </span>the<span class="w"> </span>size<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>shared<span class="w"> </span>media<span class="w"> </span>disk<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;100Gi&quot;</span><span class="o">)</span>
--smtp_domain<span class="w"> </span>string<span class="w">                            </span>the<span class="w"> </span>domain<span class="w"> </span>from<span class="w"> </span>which<span class="w"> </span>the<span class="w"> </span>email<span class="w"> </span>is<span class="w"> </span>sent<span class="w"> </span>from<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;example.com&quot;</span><span class="o">)</span>
--smtp_host<span class="w"> </span>string<span class="w">                              </span>the<span class="w"> </span>host<span class="w"> </span>of<span class="w"> </span>your<span class="w"> </span>email<span class="w"> </span>server<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;mail.example.com&quot;</span><span class="o">)</span>
--smtp_port<span class="w"> </span>string<span class="w">                              </span>the<span class="w"> </span>port<span class="w"> </span>of<span class="w"> </span>your<span class="w"> </span>email<span class="w"> </span>server<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;587&quot;</span><span class="o">)</span>
--smtp_sender<span class="w"> </span>string<span class="w">                            </span>the<span class="w"> </span>email<span class="w"> </span>address<span class="w"> </span>used<span class="w"> </span>to<span class="w"> </span>send<span class="w"> </span>emails<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;homelab@example.com&quot;</span><span class="o">)</span>
--smtp_username<span class="w"> </span>string<span class="w">                          </span>the<span class="w"> </span>username<span class="w"> </span>used<span class="w"> </span>to<span class="w"> </span>login<span class="w"> </span>to<span class="w"> </span>your<span class="w"> </span>email<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;homelab@example.com&quot;</span><span class="o">)</span>
--sonarr<span class="w"> </span>string<span class="w">                                 </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>sonarr<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--ssh_password<span class="w"> </span>string<span class="w">                           </span>ssh<span class="w"> </span>password<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;demotime&quot;</span><span class="o">)</span>
--ssh_private_key<span class="w"> </span>string<span class="w">                        </span>location<span class="w"> </span>of<span class="w"> </span>ssh<span class="w"> </span>private<span class="w"> </span>key,<span class="w"> </span>id_ed25519<span class="w"> </span>when<span class="w"> </span>generated<span class="w"> </span>with<span class="w"> </span>gh<span class="w"> </span>auth<span class="w"> </span>login<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;~/.ssh/id_ed25519&quot;</span><span class="o">)</span>
--ssh_public_key<span class="w"> </span>string<span class="w">                         </span>location<span class="w"> </span>of<span class="w"> </span>ssh<span class="w"> </span>public<span class="w"> </span>key,<span class="w"> </span>id_ed25519.pub<span class="w"> </span>when<span class="w"> </span>generated<span class="w"> </span>with<span class="w"> </span>gh<span class="w"> </span>auth<span class="w"> </span>login<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;~/.ssh/id_ed25519.pub&quot;</span><span class="o">)</span>
--ssh_server_address<span class="w"> </span>string<span class="w">                     </span>ip<span class="w"> </span>address<span class="w"> </span>of<span class="w"> </span>server<span class="w"> </span><span class="k">for</span><span class="w"> </span>ssh<span class="w"> </span>connection<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;172.16.137.36&quot;</span><span class="o">)</span>
--ssh_server_gateway<span class="w"> </span>string<span class="w">                     </span>gateway<span class="w"> </span>of<span class="w"> </span>server<span class="w"> </span><span class="o">(</span><span class="w"> </span>example<span class="w"> </span><span class="m">172</span>.16.137.254<span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;172.16.137.254&quot;</span><span class="o">)</span>
--ssh_server_netmask<span class="w"> </span>string<span class="w">                     </span>amount<span class="w"> </span>of<span class="w"> </span>ram<span class="w"> </span><span class="k">in</span><span class="w"> </span>MB<span class="w"> </span>to<span class="w"> </span>assign<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>VM<span class="w">  </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;24&quot;</span><span class="o">)</span>
--ssh_username<span class="w"> </span>string<span class="w">                           </span>ssh<span class="w"> </span>usernamer<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;loeken&quot;</span><span class="o">)</span>
--storage<span class="w"> </span>string<span class="w">                                </span>storage<span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="o">(</span><span class="w"> </span>democratic-csi,<span class="w"> </span>local-path,<span class="w"> </span>ceph<span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;local-path&quot;</span><span class="o">)</span>
--vaultwarden<span class="w"> </span>string<span class="w">                            </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>vaultwarden<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="o">)</span>
--whoami<span class="w"> </span>string<span class="w">                                 </span><span class="nb">enable</span><span class="w"> </span>argocd<span class="w"> </span>app<span class="w"> </span>whoami<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="o">)</span>
</code></pre></div>
<p>Here are the most important ones</p>
<h2 id="-platform">--platform<a class="headerlink" href="#-platform" title="Permanent link">&para;</a></h2>
<p>This defines what installation you want to end up with. The first option is "proxmox". This expects a physical server with debian 11 pre-installed, the ./setup will then turn this debian into a proxmox server, create a kvm template, then a kvm based on this template and install k3s inside that vm. The second option is baremetal, where it skips turning debian into proxmox but installs k3s directly into debian. the proxmox option is recommended when you want to run other vms on the same server, if you want to purely enjoy k3s use the baremetal way. The third option is minikube, this will skip debian/proxmox/k3s setup, but install argocd directly into your minikube</p>
<h2 id="-storage">--storage<a class="headerlink" href="#-storage" title="Permanent link">&para;</a></h2>
<p>two main options here, the first is "local-path" this will use k3s built in "local-path" storageclass. This is most likely the way most ppl will install it. the second option is democratic-csi - this is recommended if you have an external storage such as a truenas. democratic-csi supports iscsi/nfs</p>
<h2 id="-shared_media">--shared_media*<a class="headerlink" href="#-shared_media" title="Permanent link">&para;</a></h2>
<p>the arr tools tools such as radarr/sonarr/prowlarr etc all work with the concept of having a shared storageclass (ReadWriteMany)) Out of the box k3s's local-path does not support ReadWriteMany. When using --platform proxmox or --platform baremetal the setup will install a nfs server in debian/proxmox and also setup a nfs-provisioner. this allows the arr tools to sue a shared media disk.</p>
<p>--shared-media-disk can be set to false or to a disk. When you only have 1 disk in your server set it to false. if you have 1 disk set it to that disk for example --shared-media-disk /dev/sdb. If you have more then 1 disk create a software array and set it to --shared-media-disk /dev/md0 ( or whatever your raid device is named ).</p>
<p>--shared_media_disk_size will specify how much of the data is allocated to the nfs server. When using --platform proxmox, it will partition the external disk and mount under /mnt/data. it will then add that to proxmox as a datastore and when creating the kvm it will add a second virtual disk and place it inside /mnt/data, you can set how big that virtual disk image should be here.</p>
<p>--partition_external_shared_media_disk can be used to make terraform partition your disk and create filesystems on them.</p>
<p>to reduce the risk of picking the wrong disk etc you need to specifically destroy the records on the external disks first you can do so via
<div class="highlight"><pre><span></span><code>wipefs<span class="w"> </span>--all<span class="w"> </span>/dev/yourdisk
</code></pre></div></p>
<h2 id="-ssh_">--ssh_*<a class="headerlink" href="#-ssh_" title="Permanent link">&para;</a></h2>
<p>--ssh_password string                           ssh password (default "demotime")
--ssh_private_key string                        location of ssh private key, id_ed25519 when generated with gh auth login (default "~/.ssh/id_ed25519")
--ssh_public_key string                         location of ssh public key, id_ed25519.pub when generated with gh auth login (default "~/.ssh/id_ed25519.pub")
--ssh_server_address string                     ip address of server for ssh connection (default "172.16.137.36")
--ssh_server_gateway string                     gateway of server ( example 172.16.137.254 ) (default "172.16.137.254")
--ssh_server_netmask string                     amount of ram in MB to assign to the VM  (default "24")
--ssh_username string                           ssh usernamer (default "loeken")
--root_password</p>
<p>the --ssh_* flags specify how to connect to your server. you specify the non root user created during install and the password, ./setup will then login over ssh and set the root password ( as we lll need that later on to login to the proxmox webui ).</p>
<p>If you already have an (older) ssh keypair in your system of the type id_ed25519 you need to point the private/public key to their location. if you followed the github video and used the "gh auth login" to generate a command then you should already have ~/.ssh/id_ed25519 and ~/.ssh/id_ed25519.pub and dont need to specify any flags</p>
<h2 id="-external_ip">--external_ip<a class="headerlink" href="#-external_ip" title="Permanent link">&para;</a></h2>
<p>external ips is the external ip of the server, this is used when installing k3s and sets the external_node_ip. all ingresses will inherit of this ip. If you have a dynamic ip on your server that changes take a look into the helpers folder, there is a bash script you can use to regularly check the ip and update/restart k3s if the ip changes, then external-dns would kick in and update the cluster's dns records</p>
<h2 id="-other">--other<a class="headerlink" href="#-other" title="Permanent link">&para;</a></h2>
<p>therer are plenty of other flags, pretty much every app that can run in the cluster has a flag for example --vaultwarden which can be set to true or false. true will make ./setup configure/install those, setting those to false will not install those parts. you can still turns on other components after your install</p>
<h2 id="-ingress">--ingress<a class="headerlink" href="#-ingress" title="Permanent link">&para;</a></h2>
<p>this defines which ingress to use, my recommendation is to use nginx ( as we also have external-dns/cert-manager ). nginx is also required if you plan on using authelia.
Cloudflare tunnels is a simple alternative that create a tunnel to cloudflare and route traffic through those tunnels. this avoids having to open ports locally.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.51198bba.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>